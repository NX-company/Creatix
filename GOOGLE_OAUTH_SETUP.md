# Google OAuth Authentication Setup

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Google —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞! –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –≤—Ö–æ–¥–∏—Ç—å –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º —á–µ—Ä–µ–∑ —Å–≤–æ–π Google –∞–∫–∫–∞—É–Ω—Ç.

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `next-auth` –∏ `@auth/prisma-adapter`
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ Prisma —Å—Ö–µ–º–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `Account`, –ø–æ–ª—è `emailVerified`, `image`)
‚úÖ –°–æ–∑–¥–∞–Ω API —Ä–æ—É—Ç `/api/auth/[...nextauth]` —Å Google Provider
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Google" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ª–æ–≥–∏–Ω–∞
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `layout.tsx` —Å `SessionProvider`
‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Google OAuth –∫–ª—é—á–∏

### –®–∞–≥ 1: –ü–µ—Ä–µ–π–¥–∏ –≤ Google Cloud Console
https://console.cloud.google.com

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç (–µ—Å–ª–∏ –Ω–µ—Ç)
1. –ù–∞–∂–º–∏ –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤–≤–µ—Ä—Ö—É
2. "New Project" ‚Üí –≤–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ "Creatix"
3. –ù–∞–∂–º–∏ "Create"

### –®–∞–≥ 3: –í–∫–ª—é—á–∏ Google+ API
1. –í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é: "APIs & Services" ‚Üí "Library"
2. –ù–∞–π–¥–∏ "Google+ API"
3. –ù–∞–∂–º–∏ "Enable"

### –®–∞–≥ 4: –°–æ–∑–¥–∞–π OAuth 2.0 Client ID
1. –í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é: "APIs & Services" ‚Üí "Credentials"
2. –ù–∞–∂–º–∏ "Create Credentials" ‚Üí "OAuth client ID"
3. –ï—Å–ª–∏ –ø—Ä–æ—Å–∏—Ç, –Ω–∞—Å—Ç—Ä–æ–π OAuth consent screen:
   - User Type: External
   - App name: Creatix
   - User support email: —Ç–≤–æ–π email
   - Developer contact: —Ç–≤–æ–π email
   - –°–æ—Ö—Ä–∞–Ω–∏
4. Application type: **Web application**
5. Name: **Creatix Web Client**
6. Authorized redirect URIs:
   - –î–æ–±–∞–≤—å: `http://localhost:3000/api/auth/callback/google`
7. –ù–∞–∂–º–∏ "Create"

### –®–∞–≥ 5: –°–∫–æ–ø–∏—Ä—É–π –∫–ª—é—á–∏
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —É–≤–∏–¥–∏—à—å –æ–∫–Ω–æ —Å:
- **Client ID** (–¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Ç–∏–ø–∞ `123456789-abc...googleusercontent.com`)
- **Client Secret** (—Å—Ç—Ä–æ–∫–∞ —Ç–∏–ø–∞ `GOCSPX-...`)

### –®–∞–≥ 6: –î–æ–±–∞–≤—å –≤ keys.env.local
–ó–∞–º–µ–Ω–∏ –≤ —Ñ–∞–π–ª–µ `keys.env.local`:

```env
GOOGLE_CLIENT_ID=—Ç–≤–æ–π_client_id_—Å—é–¥–∞
GOOGLE_CLIENT_SECRET=—Ç–≤–æ–π_client_secret_—Å—é–¥–∞
```

## –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ (Vercel)

### –î–æ–±–∞–≤—å –ø—Ä–æ–¥–∞–∫—à–Ω redirect URI –≤ Google Console:
```
https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.vercel.app/api/auth/callback/google
```

### –î–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Vercel:
–í —Ñ–∞–π–ª `upload-env-to-vercel.ps1` –¥–æ–±–∞–≤—å:

```powershell
"GOOGLE_CLIENT_ID" = "—Ç–≤–æ–π_google_client_id"
"GOOGLE_CLIENT_SECRET" = "—Ç–≤–æ–π_google_client_secret"
"NEXTAUTH_URL" = "https://—Ç–≤–æ–π-–¥–æ–º–µ–Ω.vercel.app"
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç `/register`
   - –ù–∞–∂–∏–º–∞–µ—Ç "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ Google"
   - –í—ã–±–∏—Ä–∞–µ—Ç —Å–≤–æ—é –ø–æ—á—Ç—É –∏–∑ —Å–ø–∏—Å–∫–∞ Google –∞–∫–∫–∞—É–Ω—Ç–æ–≤
   - **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–∫–∫–∞—É–Ω—Ç** —Å:
     - Email –∏–∑ Google
     - –ò–º—è –∏–∑ Google –ø—Ä–æ—Ñ–∏–ª—è
     - –ê–≤–∞—Ç–∞—Ä–∫–∞ –∏–∑ Google
     - –¢—Ä–∏–∞–ª –Ω–∞ 3 –¥–Ω—è
     - 30 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
   - –ü–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

2. **–í—Ö–æ–¥:**
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç `/login`
   - –ù–∞–∂–∏–º–∞–µ—Ç "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"
   - –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –≤—Ö–æ–¥ (–µ—Å–ª–∏ —É–∂–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω –≤ Google)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

- NextAuth –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö `User` –∏ `Account`
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ —á–µ—Ä–µ–∑ Google —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç—Ä–∏–∞–ª –Ω–∞ 3 –¥–Ω—è
- `password` –∏ `username` —Ç–µ–ø–µ—Ä—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (nullable)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å –∏ email/password, –∏ Google OAuth –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

## –ó–∞–ø—É—Å–∫

```bash
npm run dev
```

–ü–µ—Ä–µ–π–¥–∏ –Ω–∞ http://localhost:3000/register –∏ —É–≤–∏–¥–∏—à—å –∫–Ω–æ–ø–∫—É Google!

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Google OAuth –∫–ª—é—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ Redirect URI –≤ Google Console —Ç–æ—á–Ω–æ `http://localhost:3000/api/auth/callback/google`
3. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (–º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞)
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ NextAuth –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- ‚úÖ Google OAuth 2.0 - –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç
- ‚úÖ –ü–∞—Ä–æ–ª–∏ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–ª—è Google –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í—Å–µ —á–µ—Ä–µ–∑ HTTPS –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω–µ
- ‚úÖ CSRF –∑–∞—â–∏—Ç–∞ –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ NextAuth

---

–ì–æ—Ç–æ–≤–æ! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º! üöÄ

