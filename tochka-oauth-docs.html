<!doctype html><html lang=ru dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tochka-api/algoritm-raboty-po-oauth-2.0" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Алгоритм работы по OAuth 2.0 | Точка.API</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://developers.tochka.com/docs/tochka-api/algoritm-raboty-po-oauth-2.0><meta data-rh=true property=og:locale content=ru><meta data-rh=true name=docusaurus_locale content=ru><meta data-rh=true name=docsearch:language content=ru><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Алгоритм работы по OAuth 2.0 | Точка.API"><meta data-rh=true name=description content="Принцип работы"><meta data-rh=true property=og:description content="Принцип работы"><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://developers.tochka.com/docs/tochka-api/algoritm-raboty-po-oauth-2.0><link data-rh=true rel=alternate href=https://developers.tochka.com/docs/tochka-api/algoritm-raboty-po-oauth-2.0 hreflang=ru><link data-rh=true rel=alternate href=https://developers.tochka.com/docs/tochka-api/algoritm-raboty-po-oauth-2.0 hreflang=x-default><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://developers.tochka.com/docs/tochka-api/algoritm-raboty-po-oauth-2.0","name":"Алгоритм работы по OAuth 2.0","position":1}]}</script><link rel=preconnect href=https://mc.yandex.ru><script>!function(e,t,r,c,n,a,s){e[n]=e[n]||function(){(e[n].a=e[n].a||[]).push(arguments)},e[n].l=+new Date;for(var i=0;i<document.scripts.length;i++)if(document.scripts[i].src===c)return;a=t.createElement(r),s=t.getElementsByTagName(r)[0],a.async=1,a.src=c,s.parentNode.insertBefore(a,s)}(window,document,"script","https://mc.yandex.ru/metrika/tag.js?id=103520305","ym"),ym(0x62b9831,"init",{defer:!0,ssr:!0,webvisor:!0,trackHash:!0,clickmap:!0,accurateTrackBounce:!0,trackLinks:!0})</script><link rel=stylesheet href=/assets/css/styles.7e53109e.css><script src=/assets/js/runtime~main.8c080a62.js defer></script><script src=/assets/js/main.51b911ca.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script>


<noscript>
                <div><img src=https://mc.yandex.ru/watch/103520305 style="position:absolute; left:-9999px;" alt=""></div>
            </noscript><div id=__docusaurus><div class="global_tochkaUiGlobalClass__29asez0 tokens_tochkaUiTokensClass sizeMode_tochkaUiDefaultSizeModeClass__14z15cs0 domain_tochkaUiProductDomainClass themes_tochkaUiDayThemeClass tochkaRoot"><div role=region aria-label="Перейти к основному содержимому"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Перейти к основному содержимому</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Переключить навигационную панель" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class="navbar__brand link_ugoH" href=/docs/tochka-api/><svg tabindex=0 data-at=TochkaLogo width=122 height=24 viewBox="0 0 122 24" xmlns=http://www.w3.org/2000/svg role=link><path d="M33.535 5.894a5.371 5.371 0 0 0-5.35 3.944 7.546 7.546 0 0 0 0 4.448 5.056 5.056 0 0 0 4.274 3.831 4.966 4.966 0 0 0 5.329-2.342 6.979 6.979 0 0 0 .307-6.954 4.846 4.846 0 0 0-4.58-2.937l.02.01Zm-.102 18.058a12.147 12.147 0 0 1-8.475-3.082 11.364 11.364 0 0 1-3.669-8.998c-.057-2.83.92-5.585 2.747-7.745a11.451 11.451 0 0 1 6.517-3.79 12.701 12.701 0 0 1 9.223 1.346 10.892 10.892 0 0 1 5.616 9.45 11.695 11.695 0 0 1-3.362 9.511 11.923 11.923 0 0 1-8.577 3.318l-.02-.01Zm79.982-9.81a7.725 7.725 0 0 0-3.453-1.243 4.695 4.695 0 0 0-3.638.76c-1 .76-1.41 2.07-1.025 3.267a2.778 2.778 0 0 0 2.439 1.849 6.596 6.596 0 0 0 3.248-.503 3.606 3.606 0 0 0 2.409-4.11l.02-.02Zm.103-4.283a13.21 13.21 0 0 0 0-1.962 2.689 2.689 0 0 0-1.968-2.116 14.51 14.51 0 0 0-10.176.78l-.85-4.694a15.212 15.212 0 0 1 4.17-1.335 21.174 21.174 0 0 1 9.07.134c3.166.8 5.38 2.64 5.994 6.009.126.856.178 1.722.154 2.588v8.516c.113 1.746.267 1.92 2.05 2.187v3.606a7.69 7.69 0 0 1-5.37-.165 3.143 3.143 0 0 1-1.691-2.393c0-.205-.051-.421-.092-.73-2.162 3.082-5.257 3.884-8.66 3.688-3.76-.328-6.732-2.865-7.224-5.896-.881-4.92 1.599-8.597 6.548-9.337 3.167-.503 4.028-.277 8.075 1.11l-.03.01Zm-29.073 4.386-3.484.216v8.957h-6.528V.748h6.426V9.13a12.79 12.79 0 0 0 4.211-.319 4.946 4.946 0 0 0 3.361-3.44c.42-1.5.626-3.082.943-4.675h5.944c.133 4.674-.8 8.793-5.257 11.361.174.329.318.616.471.883 1.835 3.082 3.669 6.164 5.493 9.194.212.426.397.865.553 1.315h-6.866l-5.277-9.194.01-.01ZM62.915.717h6.353v22.742h-6.415v-7.293c-1.178.267-2.264.596-3.371.74a10.045 10.045 0 0 1-8.065-1.911A9.58 9.58 0 0 1 48.18 9.19c-.553-2.783-.215-5.608-.308-8.474h6.63v1.027c0 1.839 0 3.688.093 5.516a4.185 4.185 0 0 0 1.319 2.932 4.165 4.165 0 0 0 3.005 1.126 6.507 6.507 0 0 0 3.997-1.213V.717Zm-49.834 22.65H6.707V6.52H.015V.737h19.686V6.46h-6.62v16.907Z" fill=currentColor fill-rule=nonzero /></svg><p data-at=tochka-ui/typography class="typography_typography__1hq1y8x1 typography_fontSprinkles__5v8zt71 typography_fontSprinkles_fontFamily_TTNormsTochka__5v8zt72 typography_fontSprinkles_size_3xl__5v8zt7f typography_fontSprinkles_weight_600__5v8zt76 title_hTEb" style=--lineHeightVar__5v8zt70:var(--tochka-ui__typography-lineHeight-3xl-01);--colorVar__1hq1y8x0:inherit>.<!-- -->API</p></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class=root_t7Mk><a data-at=tochka-ui/action aria-label="Телеграм канал Точка.API" href=https://t.me/tochka_openapi target=_blank rel="noopener noreferrer" class="action_actionRoot__1y7u4jj2 action_focus__1y7u4jj0 action_reset__1y7u4jj1 action_focus__1y7u4jj0 action_ibfN"><svg type=filled width=32 height=32 style=color:inherit viewBox="0 0 32 32" xmlns=http://www.w3.org/2000/svg><path fill=currentColor d="M26.783 6.186s2.406-.91 2.205 1.298c-.067.91-.668 4.091-1.136 7.532L26.25 25.21s-.134 1.493-1.336 1.753c-1.203.26-3.007-.909-3.34-1.169-.268-.194-5.012-3.116-6.682-4.545-.468-.39-1.002-1.168.067-2.077l7.015-6.493c.802-.78 1.604-2.597-1.737-.39l-9.354 6.168s-1.069.65-3.073.065l-4.343-1.298s-1.603-.974 1.136-1.948c6.681-3.052 14.899-6.168 22.181-9.09Z"/></svg></a></div><div class=root_ZReI aria-expanded=false aria-controls=:R2cpah: tabindex=-1 aria-haspopup=listbox role=combobox><div aria-pressed=false data-at=tochka-ui/chip class="superellipse_root__6xc2i4 superellipse_borderRadiusFallback__6xc2i5 chip_chipReset__amcwyo0 typography_fontSprinkles__5v8zt71 typography_fontSprinkles_fontFamily_TTNormsTochka__5v8zt72 typography_fontSprinkles_weight_500__5v8zt75 chip_root__amcwyo2" style=--borderBottomLeftRadius__6xc2i2:var(--tochka-ui__roundings-chip-weak);--borderTopLeftRadius__6xc2i0:var(--tochka-ui__roundings-chip-weak);--borderBottomRightRadius__6xc2i3:var(--tochka-ui__roundings-chip-weak);--borderTopRightRadius__6xc2i1:var(--tochka-ui__roundings-chip-weak)><span class="superellipse_block__6xc2i6 superellipse_borderRadiusFallback__6xc2i5 chip_chipSuperellipse__amcwyo4"><div class="chip_chipReset__amcwyo0 typography_fontSprinkles__5v8zt71 typography_fontSprinkles_fontFamily_TTNormsTochka__5v8zt72 typography_fontSprinkles_weight_500__5v8zt75 chip__amcwyov chip_chip_isSelected_false__amcwyoz chip_chip_color_brand__amcwyo10 chip_chip_isButton_false__amcwyox chip_chip_compound_0__amcwyo15 chip_chipContentButton__amcwyoa"><div class="chip_size_xs__amcwyog typography_fontSprinkles__5v8zt71 typography_fontSprinkles_fontFamily_TTNormsTochka__5v8zt72 typography_fontSprinkles_size_s__5v8zt7a chip_chipContent__amcwyo6 chip_chipContentHug_full__amcwyo7" style=min-width:max-content><span data-at=tochka-ui/typography class="typography_typography__1hq1y8x1 typography_ellipsis__1hq1y8x4 typography_fontSprinkles__5v8zt71 typography_fontSprinkles_fontFamily_TTNormsTochka__5v8zt72 typography_fontSprinkles_size_s__5v8zt7a typography_fontSprinkles_weight_500__5v8zt75 chip_text__amcwyof" style=--lineHeightVar__5v8zt70:var(--tochka-ui__typography-lineHeight-s-01);--colorVar__1hq1y8x0:inherit>Сервис: Точка.API</span><span class=chip_rightAccessory__amcwyo1q data-at=tochka-ui/chip/rightAcc><svg type=filled width=12 height=12 style=color:inherit viewBox="0 0 12 12" xmlns=http://www.w3.org/2000/svg><path fill=currentColor d="m6.707 8.293 3.586-3.586c.63-.63.184-1.707-.707-1.707H2.414c-.89 0-1.337 1.077-.707 1.707l3.586 3.586a1 1 0 0 0 1.414 0Z"/></svg></span></div></div></span></div></div><div class="toggle_vylO colorModeToggle_DEke root_dCIa"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Переключение между темным и светлым режимом (сейчас используется system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Прокрутка к началу" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/tochka-api/>Про API</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/tochka-api/terminologiya>Терминология</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current=page href=/docs/tochka-api/algoritm-raboty-po-oauth-2.0>Алгоритм работы по OAuth 2.0</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/tochka-api/algoritm-raboty-s-jwt-tokenom>Алгоритм работы с JWT-токеном</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/tochka-api/kollekciya-zaprosov>Коллекция запросов</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/tochka-api/opisanie-metodov/>Описание методов</a><button aria-label="Expand sidebar category 'Описание методов'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/tochka-api/pesochnica>Песочница</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/tochka-api/changelog>Обновления API</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=true href=/docs/tochka-api/api/tochka-api>Методы</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/tochka-api/api/tochka-api>Introduction</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-balansami-schetov>Работа с балансами счетов</a><button aria-label="Expand sidebar category 'Работа с балансами счетов'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-vebhukami>Работа с вебхуками</a><button aria-label="Expand sidebar category 'Работа с вебхуками'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-vypiskami>Работа с выписками</a><button aria-label="Expand sidebar category 'Работа с выписками'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-vystavleniem-schetov>Работа с выставлением счетов</a><button aria-label="Expand sidebar category 'Работа с выставлением счетов'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-zakryvayushimi-dokumentami>Работа с закрывающими документами</a><button aria-label="Expand sidebar category 'Работа с закрывающими документами'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-klientami>Работа с клиентами</a><button aria-label="Expand sidebar category 'Работа с клиентами'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-platezhami>Работа с платежами</a><button aria-label="Expand sidebar category 'Работа с платежами'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-platyozhnymi-ssylkami>Работа с платёжными ссылками</a><button aria-label="Expand sidebar category 'Работа с платёжными ссылками'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-podpiskami>Работа с подписками</a><button aria-label="Expand sidebar category 'Работа с подписками'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-s-razresheniyami>Работа с разрешениями</a><button aria-label="Expand sidebar category 'Работа с разрешениями'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/rabota-so-schetami>Работа со счетами</a><button aria-label="Expand sidebar category 'Работа со счетами'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/servis-sbp-rabota-s-qr-kodami>Сервис СБП: Работа с QR-кодами</a><button aria-label="Expand sidebar category 'Сервис СБП: Работа с QR-кодами'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/servis-sbp-rabota-s-tsp>Сервис СБП: Работа с ТСП</a><button aria-label="Expand sidebar category 'Сервис СБП: Работа с ТСП'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/servis-sbp-rabota-s-yul>Сервис СБП: Работа с ЮЛ</a><button aria-label="Expand sidebar category 'Сервис СБП: Работа с ЮЛ'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/servis-sbp-rabota-s-vozvratami>Сервис СБП: Работа с возвратами</a><button aria-label="Expand sidebar category 'Сервис СБП: Работа с возвратами'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/servis-sbp-rabota-s-kassovymi-qr-kodami>Сервис СБП: Работа с кассовыми QR-кодами</a><button aria-label="Expand sidebar category 'Сервис СБП: Работа с кассовыми QR-кодами'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/tochka-api/api/servis-sbp-rabota-s-b2b-qr-kodami>Сервис СБП: работа с B2B QR-кодами</a><button aria-label="Expand sidebar category 'Сервис СБП: работа с B2B QR-кодами'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_xLCN"><div class=docItemContainer_jfFK><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Навигационная цепочка текущей страницы"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Главная страница" class=breadcrumbs__link href=/docs/tochka-api/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_xK9p><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Алгоритм работы по OAuth 2.0</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Содержание этой страницы</button></div><div class="theme-doc-markdown markdown"><div class=row><div class="col col--12 markdown"><header><h1>Алгоритм работы по OAuth 2.0</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=принцип-работы>Принцип работы<a href=#принцип-работы class=hash-link aria-label="Прямая ссылка на Принцип работы" title="Прямая ссылка на Принци�п работы">​</a></h2>
<ol>
<li><a href=/docs/tochka-api/algoritm-raboty-po-oauth-2.0#%D0%B7%D0%B0%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B8%D1%80%D1%83%D0%B9%D1%82%D0%B5-%D1%81%D0%B2%D0%BE%D1%91-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5>Зарегистрируйте своё приложение</a>. В ответ вы получите <code>client_id</code> и <code>client_secret</code>, с которыми и будете запрашивать данные;</li>
<li><a href=/docs/tochka-api/algoritm-raboty-po-oauth-2.0#%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D0%B5-%D1%82%D0%BE%D0%BA%D0%B5%D0%BD-%D0%B4%D0%BB%D1%8F-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B-%D1%81-%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F%D0%BC%D0%B8>Получите токен для работы с разрешениями</a>;</li>
<li><a href=/docs/tochka-api/algoritm-raboty-po-oauth-2.0#%D0%B7%D0%B0%D0%B4%D0%B0%D0%B9%D1%82%D0%B5-%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F>Задайте разрешения</a>;</li>
<li><a href=/docs/tochka-api/algoritm-raboty-po-oauth-2.0#%D1%81%D1%84%D0%BE%D1%80%D0%BC%D0%B8%D1%80%D1%83%D0%B9%D1%82%D0%B5-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81-%D0%BD%D0%B0-%D0%BF%D0%BE%D0%B4%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5-%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0-%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B9-%D0%B8-%D0%BF%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D0%B8%D1%82%D0%B5-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8F-%D0%BF%D0%BE%D0%B4%D1%82%D0%B2%D0%B5%D1%80%D0%B4%D0%B8%D1%82%D1%8C-%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA>Сформируйте запрос на подписание списка разрешений и попросите пользователя подтвердить список</a>;</li>
<li><a href=/docs/tochka-api/algoritm-raboty-po-oauth-2.0#%D0%BE%D0%B1%D0%BC%D0%B5%D0%BD%D1%8F%D0%B9%D1%82%D0%B5-%D0%BA%D0%BE%D0%B4-%D0%BD%D0%B0-%D1%82%D0%BE%D0%BA%D0%B5%D0%BD-%D0%B4%D0%BB%D1%8F-%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0-%D0%BA-api>Обменяйте код на токен для доступа к API</a>;</li>
<li><a href=/docs/tochka-api/algoritm-raboty-po-oauth-2.0#%D0%BE%D0%B1%D0%BC%D0%B5%D0%BD%D1%8F%D0%B9%D1%82%D0%B5-refresh-%D1%82%D0%BE%D0%BA%D0%B5%D0%BD-%D0%BD%D0%B0-%D0%BD%D0%BE%D0%B2%D1%83%D1%8E-%D0%BF%D0%B0%D1%80%D1%83-accessrefresh-%D1%82%D0%BE%D0%BA%D0%B5%D0%BD%D0%BE%D0%B2>Обменяйте refresh токен на новую пару access/refresh токенов</a>;</li>
<li><a href=/docs/tochka-api/algoritm-raboty-po-oauth-2.0#%D0%BA%D0%B0%D0%BA-%D0%BF%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%B8%D1%82%D1%8C-access-token-hybrid>При необходимости проверьте Access Token Hybrid</a>.</li>
</ol>
<p>Также можно настроить интеграцию упрощённым методом с помощью <a href=/docs/tochka-api/algoritm-raboty-s-jwt-tokenom>веб-токена</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=простая-схема>Простая схема<a href=#простая-схема class=hash-link aria-label="Прямая ссылка на Простая схема" title="Прямая ссылка на Простая схема">​</a></h3>
<p>На схеме представлен общий флоу работы от первого запроса разрешений до получения результата. Пройти этот путь нужно только один раз, чтобы создать токен oAuth.</p>
<!-- -->
<p>Далее добавляйте <code>Access Token Hybrid</code> в заголовок <code>Authorization: Bearer &lt;Access Token Hybrid></code> при совершении запросов.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=модель-запросов>Модель запросов<a href=#модель-запросов class=hash-link aria-label="Прямая ссылка на Модель запросов" title="Прямая ссылка на Модель запросов">​</a></h3>
<p>При совершении запросов всегда нужно добавлять токен в заголовок авторизации.
Если вы создаёте запрос по компании, обязательно указывайте идентификатор этой компании в заголовке <code>CustomerCode</code>.
Запросить список компаний клиента можно вот <a href=/docs/tochka-api/api/get-customers-list-open-banking-api-version-customers-get>так</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=зарегистрируйте-своё-приложение>Зарегистрируйте своё приложение<a href=#зарегистрируйте-своё-приложение class=hash-link aria-label="Прямая ссылка на Зарегистрируйте своё приложение" title="Прямая ссылка на Зарегистрируйте своё приложение">​</a></h2>
<p>Если у вашей компании ещё нет счёта в Точке, оставьте заявку на нашем <a href=https://tochka.com/public-api/ target=_blank rel="noopener noreferrer">сайте</a>.
Мы свяжемся с вами в течение 2 рабочих дней, а затем отправим необходимые данные на вашу электронную почту.</p>
<p>Если вы уже работаете в Точке, зарегистрируйте приложение в интернет-банке: раздел «Интеграции и API» — <a href=https://i.tochka.com/bank/services/m/integration/new target=_blank rel="noopener noreferrer">«Подключить»</a>.
Нажмите на кнопку «Зарегистрировать oAuth 2.0 приложение» и выберите необходимые разрешения для приложения.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=получите-токен-для-работы-с-разрешениями>Получите токен для работы с разрешениями<a href=#получите-токен-для-работы-с-разрешениями class=hash-link aria-label="Прямая ссылка на Получите токен для работы с разрешениями" title="Прямая ссылка на Получите токен для работы с разрешениями">​</a></h2>
<p>Пройти oAuth авторизацию по принципу <code>client_credentials</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=примеры-запросов>Примеры запросов<a href=#примеры-запросов class=hash-link aria-label="Прямая ссылка на Примеры запросов" title="Прямая ссылка на Примеры запросов">​</a></h3>
<p>Пример запроса Партнёр -> Точка:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--request</span><span class="token plain"> POST </span><span class="token string" style=color:#e3116c>'https://enter.tochka.com/connect/token'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>--header</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'Content-Type: application/x-www-form-urlencoded'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'client_id=test_app'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'client_secret=test_secret'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'grant_type=client_credentials'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'scope=accounts balances customers statements sbp payments'</span><span class="token plain"> </span><br></span></code></pre></div></div>
<p>Пример ответа:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"token_type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"bearer"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"access_token"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"p6awaKAleytQh6mKc61vXd22YniDerme"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"expires_in"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>86400</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=задайте-разрешения>Задайте разрешения<a href=#задайте-разрешения class=hash-link aria-label="Прямая ссылка на Задайте разрешения" title="Прямая ссылка на Задайте разрешения">​</a></h2>
<p><code>expirationDateTime</code> — это срок действия разрешений. Если нужны бессрочные, не передавайте этот параметр.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=примеры-запросов-1>Примеры запросов<a href=#примеры-запросов-1 class=hash-link aria-label="Прямая ссылка на Примеры запросов" title="Прямая ссылка на Примеры запросов">​</a></h3>
<p>Пример запроса Партнёр -> Точка:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--request</span><span class="token plain"> POST </span><span class="token string" style=color:#e3116c>'https://enter.tochka.com/uapi/v1.0/consents'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>--header</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'Authorization: Bearer p6awaKAleytQh6mKc61vXd22YniDerme'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>--header</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'Content-Type: application/json'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-raw </span><span class="token string" style=color:#e3116c>'{</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  "Data": {</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    "permissions": [</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ReadAccountsBasic",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ReadAccountsDetail",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "MakeAcquiringOperation",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ReadAcquiringData",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ReadBalances",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ReadStatements",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ReadCustomerData",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ReadSBPData",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "EditSBPData",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "CreatePaymentForSign",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "CreatePaymentOrder",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ManageWebhookData",</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>      "ManageInvoiceData"</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    ],</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>    "expirationDateTime": "2030-10-03T00:00:00+00:00"</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>  }</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>}</span><br></span><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>'</span><br></span></code></pre></div></div>
<p>Пример ответа:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Data"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"status"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"AwaitingAuthorisation"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"creationDateTime"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"2024-01-10T11:40:16.941480+00:00"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"statusUpdateDateTime"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"2024-01-10T11:40:16.941498+00:00"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"permissions"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ReadAccountsBasic"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ReadAccountsDetail"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"MakeAcquiringOperation"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ReadAcquiringData"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ReadBalances"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ReadStatements"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ReadCustomerData"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ReadSBPData"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"EditSBPData"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"CreatePaymentForSign"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"CreatePaymentOrder"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ManageWebhookData"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token string" style=color:#e3116c>"ManageInvoiceData"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"consentId"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"705ba15f-a109-4156-bb7f-50c21413c158"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"applicationName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"test_name"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"clientId"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"test_app"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Links"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"self"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"https://enter.tochka.com/uapi/v1.0/consents"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"Meta"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"totalPages"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=сформируйте-запрос-на-подписание-списка-разрешений-и-попросите-пользователя-подтвердить-список>Сформируйте запрос на подписание списка разрешений и попросите пользователя подтвердить список<a href=#сформируйте-запрос-на-подписание-списка-разрешений-и-попросите-пользователя-подтвердить-список class=hash-link aria-label="Прямая ссылка на Сформируйте запрос на подписание списка разрешений и попросите пользователя подтвердить список" title="Прямая ссылка на Сформируйте запрос на подписание списка разрешений и попросите пользователя подтвердить список">​</a></h2>
<p>Сформируйте ссылку для подтверждения списка разрешений и перенаправьте пользователя на неё. В параметрах нужно передать следующий набор:</p>
<ul>
<li>client_id — идентификатор клиента;</li>
<li>response_type — код авторизации;</li>
<li>state — произвольная строка (подойдёт для связи запроса и ответа, то есть идентификации клиента);</li>
<li>redirect_uri — URI, предварительно зарегистрированный на авторизационном сервере. На него перенаправим пользователя;</li>
<li>scope — <code>accounts balances customers statements sbp payments acquiring</code> то есть запрашиваемая область действия токена доступа;</li>
<li>consent_id — id разрешения из ответа с предыдущего шага.</li>
</ul>
<p>Пример URL, куда направляем пользователя:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">https://enter.tochka.com/connect/authorize?client_id=test_app&response_type=code&state=Vuihvsds&redirect_uri=http://localhost:8000/&scope=accounts%20balances%20customers%20statements%20sbp%20payments&consent_id=705ba15f-a109-4156-bb7f-50c21413c158</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=обменяйте-код-на-токен-для-доступа-к-api>Обменяйте код на токен для доступа к API<a href=#обменяйте-код-на-токен-для-доступа-к-api class=hash-link aria-label="Прямая ссылка на Обменяйте код на токен для доступа к API" title="Прямая ссылка на Обменяйте код на токен для доступа к API">​</a></h2>
<p>Подхватываем пользователя на <code>redirect_url</code> и меняем код на токен запросом:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--request</span><span class="token plain"> POST </span><span class="token string" style=color:#e3116c>'https://enter.tochka.com/connect/token'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>--header</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'Content-Type: application/x-www-form-urlencoded'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'client_id=test_app'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'client_secret=test_secret'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'grant_type=authorization_code'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'scope=accounts balances customers statements sbp payments'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'code='</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'redirect_uri=http://localhost:8000/'</span><br></span></code></pre></div></div>
<p>Ответ:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"access_token"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"JlvB7rgB0Q9vuuh0YNVQ4hBkGChIqovR"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"refresh_token"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"ViYnf8sDILwKpvUMcIQJEqCYy88zW1ys"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"token_type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"bearer"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"expires_in"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>86400</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"state"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Vuihvsds"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"user_id"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"b00b0f00-00b0-00cd-a0e0-642162432000"</span><span class="token plain"> </span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=обменяйте-refresh-токен-на-новую-пару-accessrefresh-токенов>Обменяйте refresh токен на новую пару access/refresh токенов<a href=#обменяйте-refresh-токен-на-новую-пару-accessrefresh-токенов class=hash-link aria-label="Прямая ссылка на Обменяйте refresh токен на новую пару access/refresh токенов" title="Прямая ссылка на Обменяйте refresh токен на новую пару access/refresh токенов">​</a></h2>
<p>Для обмена токена выполните запрос:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--request</span><span class="token plain"> POST </span><span class="token string" style=color:#e3116c>'https://enter.tochka.com/connect/token'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>--header</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'Content-Type: application/x-www-form-urlencoded'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'client_id=test_app'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'client_secret=test_secret'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'grant_type=refresh_token'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'refresh_token=ViYnf8sDILwKpvUMcIQJEqCYy88zW1ys'</span><br></span></code></pre></div></div>
<p>Ответ:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"access_token"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"scD56TmsyrCV9kpExKlY2p61BrCY0tNj"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"refresh_token"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"7lsLqrr2ug3j4KPPWgkUC8zPQ9W2HKH6"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"token_type"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"bearer"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"expires_in"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>86400</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"state"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"user_id"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"b00b0f00-00b0-00cd-a0e0-642162432000"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=как-проверить-access-token-hybrid>Как проверить Access Token Hybrid<a href=#как-проверить-access-token-hybrid class=hash-link aria-label="Прямая ссылка на Как проверить Access Token Hybrid" title="Прямая ссылка на Как проверить Access Token Hybrid">​</a></h2>
<p>Для этого проверьте аутентификацию клиента по полученному токену. В ответе будет <a href=https://jwt.io/introduction target=_blank rel="noopener noreferrer">jwt</a>, в котором зашифрован Customer Code (sub) и Client ID (aud). Этот метод — не обязательный для работы с API.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token function" style=color:#d73a49>curl</span><span class="token plain"> </span><span class="token parameter variable" style=color:#36acaa>--request</span><span class="token plain"> POST </span><span class="token string" style=color:#e3116c>'https://enter.tochka.com/connect/introspect'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token parameter variable" style=color:#36acaa>--header</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>'Content-Type: application/x-www-form-urlencoded'</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>\</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">--data-urlencode </span><span class="token string" style=color:#e3116c>'access_token=dnjsndamklcmda8n3m2jkndsa76'</span><br></span></code></pre></div></div>
<p>Ответ:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token string" style=color:#e3116c>"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.ewogICJpc3MiOiAiZW50ZXIudG9jaGthLmNvbSIsCiAgInN1YiI6ICIzMDk4NzY1NDMiLAogICJhdWQiOiAiQU1KanMzbmFkamFuMjFqa2Exc211NyIKfQ.vPOLUlTzMm3HJz4D76JfO3Y8dJHf57v2oMMhbWJowVqAIhs2wAAOGouORzoo2Az28bbEYxaHeITDpMWg035UVwGQYskL7qeFBO2m5bFlPoAnt1RyFMblhjG8iLb5yAFWtJUD1tyJDR1FYAdJshVMddY4_ZDyMUIK3fJElbr2xAWuk_cX9Y5hoGe1plB0JpWLEgPaFuB9TjCjvpz9sWbMBvczC3bx_07-t0I8Jodh82THaz7o63IctEwlJ3vqNyr4l01JA6cZidmpAgQJ-448wQbOWBT_WOHMHWwc2EuQy1vDni3jHm6AvWlnnXJyKGBXClMqpj67m2lpuPfIoqyC_g"</span><br></span></code></pre></div></div></div></div></div><div class=row><div class="col col--12"></div></div></article><div class=row><div class="col col--12"><nav class="docusaurus-mt-lg pagination-nav" aria-label="Страница документа"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/tochka-api/terminologiya><div class=pagination-nav__sublabel>Предыдущая страница</div><div class=pagination-nav__label>Терминология</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/tochka-api/algoritm-raboty-s-jwt-tokenom><div class=pagination-nav__sublabel>Следующая страница</div><div class=pagination-nav__label>Алгоритм работы с JWT-токеном</div></a></nav></div></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#принцип-работы class="table-of-contents__link toc-highlight">Принцип работы</a><ul><li><a href=#простая-схема class="table-of-contents__link toc-highlight">Простая схема</a><li><a href=#модель-запросов class="table-of-contents__link toc-highlight">Модель запросов</a></ul><li><a href=#зарегистрируйте-своё-приложение class="table-of-contents__link toc-highlight">Зарегистрируйте своё приложение</a><li><a href=#получите-токен-для-работы-с-разрешениями class="table-of-contents__link toc-highlight">Получите токен для работы с разрешениями</a><ul><li><a href=#примеры-запросов class="table-of-contents__link toc-highlight">Примеры запросов</a></ul><li><a href=#задайте-разрешения class="table-of-contents__link toc-highlight">Задайте разрешения</a><ul><li><a href=#примеры-запросов-1 class="table-of-contents__link toc-highlight">Примеры запросов</a></ul><li><a href=#сформируйте-запрос-на-подписание-списка-разрешений-и-попросите-пользователя-подтвердить-список class="table-of-contents__link toc-highlight">Сформируйте запрос на подписание списка разрешений и попросите пользователя подтвердить список</a><li><a href=#обменяйте-код-на-токен-для-доступа-к-api class="table-of-contents__link toc-highlight">Обменяйте код на токен для доступа к API</a><li><a href=#обменяйте-refresh-токен-на-новую-пару-accessrefresh-токенов class="table-of-contents__link toc-highlight">Обменяйте refresh токен на новую пару access/refresh токенов</a><li><a href=#как-проверить-access-token-hybrid class="table-of-contents__link toc-highlight">Как проверить Access Token Hybrid</a></ul></div></div></div></div></main></div></div></div></div></div>