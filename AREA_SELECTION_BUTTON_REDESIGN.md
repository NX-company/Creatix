# üéØ –†–µ–¥–∏–∑–∞–π–Ω –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –æ–±–ª–∞—Å—Ç–∏

**–î–∞—Ç–∞:** 16 –æ–∫—Ç—è–±—Ä—è 2025

---

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. **–û–±—ä–µ–¥–∏–Ω–∏–ª–∏ –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –æ–¥–Ω—É**

**–ë—ã–ª–æ:**
- –ö–Ω–æ–ø–∫–∞ "–û–±–ª–∞—Å—Ç—å" –≤ PreviewFrame (–≤–∫–ª/–≤—ã–∫–ª —Ä–µ–∂–∏–º)
- –ö–Ω–æ–ø–∫–∞ "–°–Ω—è—Ç—å" –≤ PreviewFrame (—Å–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ)
- –û—Ä–∞–Ω–∂–µ–≤—ã–π –±–∞–Ω–Ω–µ—Ä "–†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ –∞–∫—Ç–∏–≤–µ–Ω"
- –ó–µ–ª–µ–Ω—ã–π –±–∞–Ω–Ω–µ—Ä "–û–ë–õ–ê–°–¢–¨ –í–´–ë–†–ê–ù–ê" —Å –∫–Ω–æ–ø–∫–æ–π "–°–Ω—è—Ç—å"

**–°—Ç–∞–ª–æ:**
- ‚úÖ **–û–¥–Ω–∞ –∫–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π Target (üéØ)**
- ‚úÖ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ **—Å–ø—Ä–∞–≤–∞ –æ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞, –ø–µ—Ä–µ–¥ –∫–Ω–æ–ø–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏**
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∑–µ–ª–µ–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–≤–µ—Ä—Ö—É –ø—Ä–µ–≤—å—é (–∫–æ–≥–¥–∞ –æ–±–ª–∞—Å—Ç—å –≤—ã–±—Ä–∞–Ω–∞)

---

## üé® –î–∏–∑–∞–π–Ω –∫–Ω–æ–ø–∫–∏:

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:
```
[–¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ] [üéØ] [‚û§]
                target send
```

### –¶–≤–µ—Ç–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è:

1. **–í—ã–∫–ª—é—á–µ–Ω–æ** (—Å–µ—Ä—ã–π):
   - `bg-gray-600` 
   - –ò–∫–æ–Ω–∫–∞ –æ–±—ã—á–Ω–∞—è
   - –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–í–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ –æ–±–ª–∞—Å—Ç–∏"

2. **–í–∫–ª—é—á–µ–Ω–æ, –∂–¥–µ—Ç –∫–ª–∏–∫–∞** (–æ—Ä–∞–Ω–∂–µ–≤—ã–π):
   - `bg-orange-600`
   - –ò–∫–æ–Ω–∫–∞ `animate-pulse`
   - –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ –∞–∫—Ç–∏–≤–µ–Ω - –∫–ª–∏–∫–Ω–∏—Ç–µ –≤ –ø—Ä–µ–≤—å—é"

3. **–û–±–ª–∞—Å—Ç—å –≤—ã–±—Ä–∞–Ω–∞** (–∑–µ–ª–µ–Ω—ã–π):
   - `bg-green-600`
   - –ò–∫–æ–Ω–∫–∞ `animate-pulse`
   - –ü–æ–¥—Å–∫–∞–∑–∫–∞: "–û–±–ª–∞—Å—Ç—å –≤—ã–±—Ä–∞–Ω–∞: [selector]"

---

## üìç –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö:

### `components/ChatPanel.tsx`:

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –ò–º–ø–æ—Ä—Ç `Target` –∏–∑ `lucide-react`
- –ö–Ω–æ–ø–∫–∞ toggle –º–µ–∂–¥—É –ø–æ–ª–µ–º –≤–≤–æ–¥–∞ –∏ –∫–Ω–æ–ø–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 1244-1270)

**–õ–æ–≥–∏–∫–∞:**
```typescript
onClick={() => {
  const isActive = selectedElement !== null
  setSelectedElement(isActive ? null : { selector: '', textContent: '', outerHTML: '' })
  
  if (!isActive) {
    addMessage({ role: 'assistant', content: 'üéØ –†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ –æ–±–ª–∞—Å—Ç–∏ –≤–∫–ª—é—á–µ–Ω!' })
  } else {
    addMessage({ role: 'assistant', content: 'üî¥ –†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ –æ–±–ª–∞—Å—Ç–∏ –≤—ã–∫–ª—é—á–µ–Ω' })
  }
}}
```

**–°—Ç–∏–ª–∏:**
```typescript
className={`min-w-[44px] min-h-[44px] px-3 py-2 rounded-md ... ${
  selectedElement?.selector 
    ? 'bg-green-600 text-white hover:bg-green-700'  // –í—ã–±—Ä–∞–Ω–∞ –æ–±–ª–∞—Å—Ç—å
    : selectedElement 
    ? 'bg-orange-600 text-white hover:bg-orange-700' // –ñ–¥–µ—Ç –∫–ª–∏–∫
    : 'bg-gray-600 text-white hover:bg-gray-700'     // –í—ã–∫–ª—é—á–µ–Ω
}`}
```

### `components/PreviewFrame.tsx`:

**–£–¥–∞–ª–µ–Ω–æ:**
- ‚ùå –ö–Ω–æ–ø–∫–∞ "–û–±–ª–∞—Å—Ç—å" (—Å—Ç—Ä–æ–∫–∏ 822-839)
- ‚ùå –û—Ä–∞–Ω–∂–µ–≤—ã–π –±–∞–Ω–Ω–µ—Ä "–†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ –∞–∫—Ç–∏–≤–µ–Ω" (—Å—Ç—Ä–æ–∫–∏ 910-925)
- ‚ùå –ó–µ–ª–µ–Ω—ã–π –±–∞–Ω–Ω–µ—Ä —Å –∫–Ω–æ–ø–∫–æ–π "–°–Ω—è—Ç—å" (—Å—Ç—Ä–æ–∫–∏ 927-955)

**–û—Å—Ç–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–û–±–ª–∞—Å—Ç—å –≤—ã–±—Ä–∞–Ω–∞" (—Å—Ç—Ä–æ–∫–∏ 909-922)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç." –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ (PDF, DOC)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–æ–≤—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä:**
```tsx
{selectedElement && selectedElement.selector && !isEditing && (
  <div className="p-3 bg-green-50 border-b border-green-300">
    <div className="flex items-center gap-2">
      <Target className="w-5 h-5 text-green-600 animate-pulse" />
      <div>
        <span className="text-green-800 font-bold text-sm block">–û–±–ª–∞—Å—Ç—å –≤—ã–±—Ä–∞–Ω–∞</span>
        <code className="bg-green-200 px-2 py-1 rounded text-xs font-mono text-green-900 inline-block mt-1">
          {selectedElement.selector}
        </code>
      </div>
    </div>
  </div>
)}
```

---

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ö–ª–∏–∫ 1: –í–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º
```
–°–æ—Å—Ç–æ—è–Ω–∏–µ: null
–î–µ–π—Å—Ç–≤–∏–µ: setSelectedElement({ selector: '', textContent: '', outerHTML: '' })
–ö–Ω–æ–ø–∫–∞: üéØ (–æ—Ä–∞–Ω–∂–µ–≤–∞—è, –ø—É–ª—å—Å–∏—Ä—É–µ—Ç)
–°–æ–æ–±—â–µ–Ω–∏–µ: "üéØ –†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ –æ–±–ª–∞—Å—Ç–∏ –≤–∫–ª—é—á–µ–Ω!"
```

### –ö–ª–∏–∫ –≤ –ø—Ä–µ–≤—å—é:
```
–°–æ—Å—Ç–æ—è–Ω–∏–µ: { selector: '', ... }
–î–µ–π—Å—Ç–≤–∏–µ: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ selectedElement —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
–ö–Ω–æ–ø–∫–∞: üéØ (–∑–µ–ª–µ–Ω–∞—è, –ø—É–ª—å—Å–∏—Ä—É–µ—Ç)
–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: "–û–±–ª–∞—Å—Ç—å –≤—ã–±—Ä–∞–Ω–∞: [selector]"
```

### –ö–ª–∏–∫ 2: –í—ã–∫–ª—é—á–∏—Ç—å —Ä–µ–∂–∏–º
```
–°–æ—Å—Ç–æ—è–Ω–∏–µ: { selector: 'div.content', ... } –ò–õ–ò { selector: '', ... }
–î–µ–π—Å—Ç–≤–∏–µ: setSelectedElement(null)
–ö–Ω–æ–ø–∫–∞: üéØ (—Å–µ—Ä–∞—è)
–°–æ–æ–±—â–µ–Ω–∏–µ: "üî¥ –†–µ–∂–∏–º –≤—ã–±–æ—Ä–∞ –æ–±–ª–∞—Å—Ç–∏ –≤—ã–∫–ª—é—á–µ–Ω"
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

1. **–ú–µ–Ω—å—à–µ –∫–Ω–æ–ø–æ–∫** - –æ–¥–∏–Ω toggle –≤–º–µ—Å—Ç–æ —Ç—Ä–µ—Ö –∫–Ω–æ–ø–æ–∫
2. **–£–¥–æ–±–Ω–µ–µ** - —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏, –Ω–µ –Ω—É–∂–Ω–æ –∏—Å–∫–∞—Ç—å
3. **–ü–æ–Ω—è—Ç–Ω–µ–µ** - —Ü–≤–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
   - –°–µ—Ä—ã–π = –≤—ã–∫–ª—é—á–µ–Ω–æ
   - –û—Ä–∞–Ω–∂–µ–≤—ã–π = –∂–¥–µ—Ç –∫–ª–∏–∫–∞
   - –ó–µ–ª–µ–Ω—ã–π = –æ–±–ª–∞—Å—Ç—å –≤—ã–±—Ä–∞–Ω–∞
4. **–ö–æ–º–ø–∞–∫—Ç–Ω–µ–µ** - —É–±—Ä–∞–ª–∏ –±–æ–ª—å—à–∏–µ –±–∞–Ω–Ω–µ—Ä—ã, –æ—Å—Ç–∞–≤–∏–ª–∏ —Ç–æ–Ω–∫–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
5. **–ë—ã—Å—Ç—Ä–µ–µ** - –æ–¥–∏–Ω –∫–ª–∏–∫ –¥–ª—è –≤–∫–ª/–≤—ã–∫–ª

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–±–æ—Ä–æ–º –æ–±–ª–∞—Å—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ –∏ —É–¥–æ–±–Ω–æ–µ!

